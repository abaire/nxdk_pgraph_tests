#ifndef NXDK_ZBUFFER_TESTS_NXDK_MISSING_DEFINES_H
#define NXDK_ZBUFFER_TESTS_NXDK_MISSING_DEFINES_H

// TODO: upstream missing nv2a defines
// See
// https://github.com/xqemu/xqemu/blob/f9b9a9bad88b3b2df53a1b01db6a37783aa2eb27/hw/xbox/nv2a/nv2a_shaders.c#L296-L312
#define NV2A_VERTEX_ATTR_POSITION 0
#define NV2A_VERTEX_ATTR_WEIGHT 1
#define NV2A_VERTEX_ATTR_NORMAL 2
#define NV2A_VERTEX_ATTR_DIFFUSE 3
#define NV2A_VERTEX_ATTR_SPECULAR 4
#define NV2A_VERTEX_ATTR_FOG_COORD 5
#define NV2A_VERTEX_ATTR_POINT_SIZE 6
#define NV2A_VERTEX_ATTR_BACK_DIFFUSE 7
#define NV2A_VERTEX_ATTR_BACK_SPECULAR 8
#define NV2A_VERTEX_ATTR_TEXTURE0 9
#define NV2A_VERTEX_ATTR_TEXTURE1 10
#define NV2A_VERTEX_ATTR_TEXTURE2 11
#define NV2A_VERTEX_ATTR_TEXTURE3 12
// These do not have a default semantic but are usable from custom vertex shaders.
#define NV2A_VERTEX_ATTR_13 13
#define NV2A_VERTEX_ATTR_14 14
#define NV2A_VERTEX_ATTR_15 15

#define NV097_SET_TEXTURE_FORMAT_COLOR_LU_IMAGE_R8B8 0x16
#define NV097_SET_TEXTURE_FORMAT_COLOR_LU_IMAGE_G8B8 0x17
#define NV097_SET_TEXTURE_FORMAT_COLOR_LC_IMAGE_CR8YB8CB8YA8 0x24
#define NV097_SET_TEXTURE_FORMAT_COLOR_LC_IMAGE_YB8CR8YA8CB8 0x25
#define NV097_SET_TEXTURE_FORMAT_COLOR_SZ_DEPTH_Y16_FIXED 0x2C
#define NV097_SET_TEXTURE_FORMAT_COLOR_LU_IMAGE_DEPTH_Y16_FLOAT 0x31
#define NV097_SET_TEXTURE_FORMAT_COLOR_SZ_B8G8R8A8 0x3B

#define NV097_SET_CONTROL0_COLOR_SPACE_CONVERT 0xF0000000
#define NV097_SET_CONTROL0_COLOR_SPACE_CONVERT_CRYCB_TO_RGB 0x1

#define NV097_SET_TEXTURE_CONTROL0_ENABLE (1 << 30)
#define NV097_SET_TEXTURE_CONTROL0_MIN_LOD_CLAMP 0x3FFC0000
#define NV097_SET_TEXTURE_CONTROL0_MAX_LOD_CLAMP 0x0003FFC0
#define NV097_SET_TEXTURE_CONTROL0_ALPHA_KILL_ENABLE (1 << 2)

#define NV097_SET_CONTROL0_Z_FORMAT_FIXED 0
#define NV097_SET_CONTROL0_Z_FORMAT_FLOAT 1

#define NV097_SET_LIGHT_TWO_SIDE_ENABLE NV20_TCL_PRIMITIVE_3D_LIGHT_MODEL_TWO_SIDE_ENABLE

#define NV097_SET_DEPTH_FUNC_V_NEVER 0x00000200
#define NV097_SET_DEPTH_FUNC_V_LESS 0x00000201
#define NV097_SET_DEPTH_FUNC_V_EQUAL 0x00000202
#define NV097_SET_DEPTH_FUNC_V_LEQUAL 0x00000203
#define NV097_SET_DEPTH_FUNC_V_GREATER 0x00000204
#define NV097_SET_DEPTH_FUNC_V_NOTEQUAL 0x00000205
#define NV097_SET_DEPTH_FUNC_V_GEQUAL 0x00000206
#define NV097_SET_DEPTH_FUNC_V_ALWAYS 0x00000207

#define NV097_SET_ZMIN_MAX_CONTROL_CULL_NEAR_FAR_EN_FALSE 0
#define NV097_SET_ZMIN_MAX_CONTROL_CULL_NEAR_FAR_EN_TRUE 1
#define NV097_SET_ZMIN_MAX_CONTROL_ZCLAMP_EN_CULL 0
#define NV097_SET_ZMIN_MAX_CONTROL_ZCLAMP_EN_CLAMP (1 << 4)
#define NV097_SET_ZMIN_MAX_CONTROL_CULL_IGNORE_W_FALSE 0
#define NV097_SET_ZMIN_MAX_CONTROL_CULL_IGNORE_W_TRUE (1 << 8)

#define NV097_SET_TEXTURE_ADDRESS_U 0x0000000F
#define NV097_SET_TEXTURE_ADDRESS_CYLINDERWRAP_U 0x000000F0
#define NV097_SET_TEXTURE_ADDRESS_V 0x00000F00
#define NV097_SET_TEXTURE_ADDRESS_CYLINDERWRAP_V 0x0000F000
#define NV097_SET_TEXTURE_ADDRESS_P 0x000F0000
#define NV097_SET_TEXTURE_ADDRESS_CYLINDERWRAP_P 0x00F00000
#define NV097_SET_TEXTURE_ADDRESS_CYLINDERWRAP_Q 0x0F000000

// Naming from xemu's nv2a_regs.h, to be used with nxdk's NV_IMAGE_BLIT definitions.
#define NV09F_SET_OPERATION_BLEND_AND 0x02
#define NV09F_SET_OPERATION_SRCCOPY 0x03
#define NV09F_SET_OPERATION_SRCCOPY_PREMULT 0x04
#define NV09F_SET_OPERATION_BLEND_AND_PREMULT 0x05

#define NV_IMAGE_BLIT_SET_BETA 0x0194
#define NV_IMAGE_BLIT_SET_BETA4 0x0198

#define NV012_BETA 0x00000012  // Alpha factor
#define NV012_SET_BETA 0x0300

#define NV072_BETA_4 0x00000072  // RGBA factor
#define NV072_SET_BETA 0x0300

#define NV04_SURFACE_2D_FORMAT_Y8 0x00000001
#define NV04_SURFACE_2D_FORMAT_X1R5G5B5_Z1R5G5B5 0x00000002
#define NV04_SURFACE_2D_FORMAT_X1R5G5B5_X1R5G5B5 0x00000003
#define NV04_SURFACE_2D_FORMAT_R5G6B5 0x00000004
#define NV04_SURFACE_2D_FORMAT_Y16 0x00000005
#define NV04_SURFACE_2D_FORMAT_X8R8G8B8_Z8R8G8B8 0x00000006
#define NV04_SURFACE_2D_FORMAT_X8R8G8B8_X8R8G8B8 0x00000007
#define NV04_SURFACE_2D_FORMAT_X1A7R8G8B8_Z1A7R8G8B8 0x00000008
#define NV04_SURFACE_2D_FORMAT_X1A7R8G8B8_X1A7R8G8B8 0x00000009
#define NV04_SURFACE_2D_FORMAT_A8R8G8B8 0x0000000a
#define NV04_SURFACE_2D_FORMAT_Y32 0x0000000b

#define NV097_SET_COLOR_MATERIAL 0x298
#define NV097_SET_COLOR_MATERIAL_ALL_FROM_MATERIAL 0
#define NV097_SET_COLOR_MATERIAL_EMISSIVE_FROM_MATERIAL 0
#define NV097_SET_COLOR_MATERIAL_EMISSIVE_FROM_VERTEX_DIFFUSE (1 << 0)
#define NV097_SET_COLOR_MATERIAL_EMISSIVE_FROM_VERTEX_SPECULAR (2 << 0)
#define NV097_SET_COLOR_MATERIAL_AMBIENT_FROM_MATERIAL 0
#define NV097_SET_COLOR_MATERIAL_AMBIENT_FROM_VERTEX_DIFFUSE (1 << 2)
#define NV097_SET_COLOR_MATERIAL_AMBIENT_FROM_VERTEX_SPECULAR (2 << 2)
#define NV097_SET_COLOR_MATERIAL_DIFFUSE_FROM_MATERIAL 0
#define NV097_SET_COLOR_MATERIAL_DIFFUSE_FROM_VERTEX_DIFFUSE (1 << 4)
#define NV097_SET_COLOR_MATERIAL_DIFFUSE_FROM_VERTEX_SPECULAR (2 << 4)
#define NV097_SET_COLOR_MATERIAL_SPECULAR_FROM_MATERIAL 0
#define NV097_SET_COLOR_MATERIAL_SPECULAR_FROM_VERTEX_DIFFUSE (1 << 6)
#define NV097_SET_COLOR_MATERIAL_SPECULAR_FROM_VERTEX_SPECULAR (2 << 6)
#define NV097_SET_COLOR_MATERIAL_BACK_EMISSIVE_FROM_MATERIAL 0
#define NV097_SET_COLOR_MATERIAL_BACK_EMISSIVE_FROM_VERTEX_DIFFUSE (1 << 8)
#define NV097_SET_COLOR_MATERIAL_BACK_EMISSIVE_FROM_VERTEX_SPECULAR (2 << 8)
#define NV097_SET_COLOR_MATERIAL_BACK_AMBIENT_FROM_MATERIAL 0
#define NV097_SET_COLOR_MATERIAL_BACK_AMBIENT_FROM_VERTEX_DIFFUSE (1 << 10)
#define NV097_SET_COLOR_MATERIAL_BACK_AMBIENT_FROM_VERTEX_SPECULAR (2 << 10)
#define NV097_SET_COLOR_MATERIAL_BACK_DIFFUSE_FROM_MATERIAL 0
#define NV097_SET_COLOR_MATERIAL_BACK_DIFFUSE_FROM_VERTEX_DIFFUSE (1 << 12)
#define NV097_SET_COLOR_MATERIAL_BACK_DIFFUSE_FROM_VERTEX_SPECULAR (2 << 12)
#define NV097_SET_COLOR_MATERIAL_BACK_SPECULAR_FROM_MATERIAL 0
#define NV097_SET_COLOR_MATERIAL_BACK_SPECULAR_FROM_VERTEX_DIFFUSE (1 << 14)
#define NV097_SET_COLOR_MATERIAL_BACK_SPECULAR_FROM_VERTEX_SPECULAR (2 << 14)

#define NV097_SET_LIGHT_CONTROL NV20_TCL_PRIMITIVE_3D_LIGHT_CONTROL
#define NV097_SET_MATERIAL_ALPHA 0x3B4
#define NV097_SET_SPECULAR_ENABLE 0x03b8
#define NV097_SET_MATERIAL_EMISSION 0x03a8
#define NV097_SET_SPECULAR_PARAMS 0x9E0

// From LithiumX
#define NV097_SET_BACK_MATERIAL_ALPHA 0x17AC

#define NV042_SET_PITCH 0x304
#define NV042_SET_COLOR_FORMAT NV04_CONTEXT_SURFACES_2D_FORMAT
#define NV042_SET_COLOR_FORMAT_LE_A8R8G8B8 0x0A

#define NV05C_SET_COLOR_FORMAT_LE_X16R5G6B5 0x00000001
#define NV05C_SET_COLOR_FORMAT_LE_X17R5G5B5 0x00000002
#define NV05C_SET_COLOR_FORMAT_LE_X8R8G8B8 0x00000003

// This is sent whenever a vertex buffer is drawn after being locked.
// Failing to send it in a tight modification loop will cause the hardware to re-use previously set data even if new
// values are set (likely it skips fetching the updated memory from system RAM).
#define NV097_BREAK_VERTEX_BUFFER_CACHE 0x1710

#define NV097_SET_WEIGHT1F 0x169C
#define NV097_SET_WEIGHT4F 0x16C0
#define NV097_SET_NORMAL3F 0x1530
#define NV097_SET_NORMAL3S 0x1540
#define NV097_SET_DIFFUSE_COLOR4F 0x1550
#define NV097_SET_DIFFUSE_COLOR3F 0x1560
#define NV097_SET_DIFFUSE_COLOR4I 0x156C
#define NV097_SET_SPECULAR_COLOR4F 0x1570
#define NV097_SET_SPECULAR_COLOR3F 0x1580
#define NV097_SET_SPECULAR_COLOR4I 0x158C
#define NV097_SET_FOG_COORD 0x1698
#define NV097_SET_POINT_SIZE 0x43C
#define NV097_SET_TEXCOORD0_2F 0x1590
#define NV097_SET_TEXCOORD0_4F 0x15A0
#define NV097_SET_TEXCOORD0_2S 0x1598
#define NV097_SET_TEXCOORD0_4S 0x15B0
#define NV097_SET_TEXCOORD1_2F 0x15B8
#define NV097_SET_TEXCOORD1_4F 0x15C8
#define NV097_SET_TEXCOORD1_2S 0x15C0
#define NV097_SET_TEXCOORD1_4S 0x15D8
#define NV097_SET_TEXCOORD2_2F 0x15E0
#define NV097_SET_TEXCOORD2_4F 0x15F0
#define NV097_SET_TEXCOORD2_2S 0x15E8
#define NV097_SET_TEXCOORD2_4S 0x1600
#define NV097_SET_TEXCOORD3_2F 0x1608
#define NV097_SET_TEXCOORD3_4F 0x1620
#define NV097_SET_TEXCOORD3_2S 0x1610
#define NV097_SET_TEXCOORD3_4S 0x1630

#define NV097_SET_LIGHT_ENABLE_MASK_LIGHT1_OFF 0
#define NV097_SET_LIGHT_ENABLE_MASK_LIGHT1_INFINITE (1 << 2)
#define NV097_SET_LIGHT_ENABLE_MASK_LIGHT1_LOCAL (2 << 2)
#define NV097_SET_LIGHT_ENABLE_MASK_LIGHT1_SPOT (3 << 2)

#define NV097_SET_POINT_PARAMS_ENABLE 0x318
#define NV097_SET_POINT_SMOOTH_ENABLE 0x31C

#define NV097_SET_SHADE_MODEL 0x37C
#define NV097_SET_SHADE_MODEL_FLAT 0x1D00
#define NV097_SET_SHADE_MODEL_SMOOTH 0x1D01

#define NV097_SET_FLAT_SHADE_PROVOKING_VERTEX 0x9FC
#define NV097_SET_FLAT_SHADE_PROVOKING_VERTEX_FIRST 0x01
#define NV097_SET_FLAT_SHADE_PROVOKING_VERTEX_LAST 0x00

// NV_PGRAPH_TEXFILTER0_CONVOLUTION_KERNEL from xemu.
#define NV097_SET_TEXTURE_FILTER_CONVOLUTION_KERNEL 0x0000E000

#define NV097_SET_WINDOW_CLIP_TYPE 0x2B4
#define NV097_SET_WINDOW_CLIP_HORIZONTAL 0x2C0
#define NV097_SET_WINDOW_CLIP_VERTICAL 0x2E0

#define NV062_SET_COLOR_FORMAT NV10_CONTEXT_SURFACES_2D_FORMAT
#define NV062_SET_PITCH NV10_CONTEXT_SURFACES_2D_PITCH
#define NV062_SET_OFFSET_SOURCE NV10_CONTEXT_SURFACES_2D_OFFSET_SRC
#define NV062_SET_OFFSET_DESTIN NV10_CONTEXT_SURFACES_2D_OFFSET_DST

#define NV09F_CONTROL_POINT_IN NV_IMAGE_BLIT_POINT_IN
#define NV09F_CONTROL_POINT_OUT NV_IMAGE_BLIT_POINT_OUT
#define NV09F_SIZE NV_IMAGE_BLIT_SIZE

#define NV097_SET_SHADOW_COMPARE_FUNC 0x00001E6C
#define NV097_SET_SHADOW_COMPARE_FUNC_NEVER 0x00000000
#define NV097_SET_SHADOW_COMPARE_FUNC_GREATER 0x00000001
#define NV097_SET_SHADOW_COMPARE_FUNC_EQUAL 0x00000002
#define NV097_SET_SHADOW_COMPARE_FUNC_GEQUAL 0x00000003
#define NV097_SET_SHADOW_COMPARE_FUNC_LESS 0x00000004
#define NV097_SET_SHADOW_COMPARE_FUNC_NOTEQUAL 0x00000005
#define NV097_SET_SHADOW_COMPARE_FUNC_LEQUAL 0x00000006
#define NV097_SET_SHADOW_COMPARE_FUNC_ALWAYS 0x00000007

#define NV097_SET_SMOOTHING_CONTROL 0x00001D7C
#define NV097_SET_LINE_SMOOTH_ENABLE 0x00000320
#define NV097_SET_POLY_SMOOTH_ENABLE 0x00000324

#define NV097_SET_DOT_RGBMAPPING 0X00001E74

#define NV097_SET_EDGE_FLAG NV20_TCL_PRIMITIVE_3D_EDGE_FLAG

// NV_PVIDEO_INTR is already defined in outer.h
#define NV_PVIDEO_INTR_BUFFER_0 (1 << 0)
#define NV_PVIDEO_INTR_BUFFER_1 (1 << 4)
#define NV_PVIDEO_INTR_EN 0x00008140
#define NV_PVIDEO_INTR_EN_BUFFER_0 (1 << 0)
#define NV_PVIDEO_INTR_EN_BUFFER_1 (1 << 4)
#define NV_PVIDEO_BUFFER 0x00008700
#define NV_PVIDEO_BUFFER_0_USE (1 << 0)
#define NV_PVIDEO_BUFFER_1_USE (1 << 4)
#define NV_PVIDEO_STOP 0x00008704
#define NV_PVIDEO_BASE 0x00008900
#define NV_PVIDEO_LIMIT 0x00008908
#define NV_PVIDEO_LUMINANCE 0x00008910
#define NV_PVIDEO_CHROMINANCE 0x00008918
#define NV_PVIDEO_OFFSET 0x00008920
#define NV_PVIDEO_SIZE_IN 0x00008928
#define NV_PVIDEO_SIZE_IN_WIDTH 0x000007FF
#define NV_PVIDEO_SIZE_IN_HEIGHT 0x07FF0000
#define NV_PVIDEO_POINT_IN 0x00008930
#define NV_PVIDEO_POINT_IN_S 0x00007FFF
#define NV_PVIDEO_POINT_IN_T 0xFFFE0000
#define NV_PVIDEO_DS_DX 0x00008938
#define NV_PVIDEO_DT_DY 0x00008940
#define NV_PVIDEO_POINT_OUT 0x00008948
#define NV_PVIDEO_POINT_OUT_X 0x00000FFF
#define NV_PVIDEO_POINT_OUT_Y 0x0FFF0000
#define NV_PVIDEO_SIZE_OUT 0x00008950
#define NV_PVIDEO_SIZE_OUT_WIDTH 0x00000FFF
#define NV_PVIDEO_SIZE_OUT_HEIGHT 0x0FFF0000
#define NV_PVIDEO_FORMAT 0x00008958
#define NV_PVIDEO_FORMAT_PITCH 0x00001FFF
#define NV_PVIDEO_FORMAT_COLOR 0x00030000
#define NV_PVIDEO_FORMAT_COLOR_LE_CR8YB8CB8YA8 1
#define NV_PVIDEO_FORMAT_DISPLAY (1 << 20)
#define NV_PVIDEO_FORMAT_DISPLAY_COLOR_KEY 1
#define NV_PVIDEO_COLOR_KEY 0x00008B00
#define NV_PVIDEO_COLOR_KEY_RED 0x00FF0000
#define NV_PVIDEO_COLOR_KEY_GREEN 0x0000FF00
#define NV_PVIDEO_COLOR_KEY_BLUE 0x000000FF
#define NV_PVIDEO_COLOR_KEY_ALPHA 0xFF000000

#endif  // NXDK_ZBUFFER_TESTS_NXDK_MISSING_DEFINES_H
